package com.microservices.demo.repository;nnimport com.microservices.demo.entity.Review;nimport org.springframework.data.jpa.repository.JpaRepository;nimport org.springframework.data.jpa.repository.Query;nimport org.springframework.data.repository.query.Param;nimport org.springframework.stereotype.Repository;nnimport java.util.List;nn@Repositorynpublic interface ReviewRepository extends JpaRepository<Review, Long> {nn    List<Review> findByBookIdOrderByCreatedAtDesc(Long bookId);nn    @Query("SELECT AVG(r.rating) FROM Review r WHERE r.bookId = :bookId")n    Double getAverageRatingByBookId(@Param("bookId") Long bookId);nn    @Query("SELECT COUNT(r) FROM Review r WHERE r.bookId = :bookId")n    Long getReviewCountByBookId(@Param("bookId") Long bookId);nn    List<Review> findByRating(Integer rating);nn}